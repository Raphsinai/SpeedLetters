{% extends 'base.html' %}
{% block 'head' %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
{% endblock %}
{% block 'main' %}
    <h1 class="text-2xl">Sign up</h1>
    {% if msg %}
        <div class="border-2 border-slate-300 px-3 bg-red-700 rounded w-1/2 mx-auto text-white">
            <p class="text-sm">{{ msg_content }}</p>
        </div>
    {% endif %}
    <form action="" method="post" class="grid gap-4 grid-cols-2 sm:w-3/4 mx-auto my-10">
        {% csrf_token %}
        <input type="email" placeholder="email address" name="email" id="email_field" class="border-2 border-slate-300 rounded col-span-2 sm:col-span-1" required>
        <input type="text" placeholder="username" name="username" min="5" id="username_field" class="border-2 border-slate-300 rounded col-span-2 sm:col-span-1" required>
        <input type="password" placeholder="password" name="password" id="password_field" onkeyup="checkpassword(this)" onfocus="$('#password_msg').show()" onblur="$('#password_msg').hide()" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" class="border-2 border-slate-300 rounded col-span-2" required>
        <div class="col-span-2 text-sm text-left ml-1 hidden" id="password_msg">
            <span class="text-sm">Password must contain at least:</span>
            <ul>
                <li class="text-sm ml-3 flex items-center">One uppercase character <span id="upper"><svg xmlns="http://www.w3.org/2000/svg" fill="none" color="rgb(239 68 68)" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></span></li>
                <li class="text-sm ml-3 flex items-center">One lowercase character <span id="lower"><svg xmlns="http://www.w3.org/2000/svg" fill="none" color="rgb(239 68 68)" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></span></li>
                <li class="text-sm ml-3 flex items-center">One number <span id="num"><svg xmlns="http://www.w3.org/2000/svg" fill="none" color="rgb(239 68 68)" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></span></li>
                <li class="text-sm ml-3 flex items-center">8 characters <span id="charlen"><svg xmlns="http://www.w3.org/2000/svg" fill="none" color="rgb(239 68 68)" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></span></li>
            </ul>
        </div>
        <input type="text" placeholder="first name" name="firstName" id="firstname_field" class="border-2 border-slate-300 rounded col-span-2 sm:col-span-1" required>
        <input type="text" placeholder="last name" name="lastName" id="lastname_field" class="border-2 border-slate-300 rounded col-span-2 sm:col-span-1" required>
        <input type="text" placeholder="company name" name="company" id="company_field" class="border-2 border-slate-300 rounded col-span-2 sm:col-span-1" required>
        <div class="flex col-span-2 sm:col-span-1 ">
            <select id="phone" name="code" class="w-1/4 text-sm rounded-l text-gray-600 border-slate-300 border-l-2 border-t-2 border-b-2">
                <option>code</option>
                <option value="93" class="text-black">+93 Afghanistan</option>
                <option value="358">+358 Åland Islands</option>
                <option value="355">+355 Albania</option>
                <option value="213">+213 Algeria</option>
                <option value="1684">+1684 American Samoa</option>
                <option value="376">+376 Andorra</option>
                <option value="244">+244 Angola</option>
                <option value="1264">+1264 Anguilla</option>
                <option value="672">+672 Antarctica</option>
                <option value="1268">+1268 Antigua & Barbuda</option>
                <option value="54">+54 Argentina</option>
                <option value="374">+374 Armenia</option>
                <option value="297">+297 Aruba</option>
                <option value="61">+61 Australia</option>
                <option value="43">+43 Austria</option>
                <option value="994">+994 Azerbaijan</option>
                <option value="1242">+1242 Bahamas</option>
                <option value="973">+973 Bahrain</option>
                <option value="880">+880 Bangladesh</option>
                <option value="1246">+1246 Barbados</option>
                <option value="375">+375 Belarus</option>
                <option value="32">+32 Belgium</option>
                <option value="501">+501 Belize</option>
                <option value="229">+229 Benin</option>
                <option value="1441">+1441 Bermuda</option>
                <option value="975">+975 Bhutan</option>
                <option value="591">+591 Bolivia</option>
                <option value="599">+599 Caribbean Netherlands</option>
                <option value="387">+387 Bosnia & Herzegovina</option>
                <option value="267">+267 Botswana</option>
                <option value="55">+55 Bouvet Island</option>
                <option value="55">+55 Brazil</option>
                <option value="246">+246 British Indian Ocean Territory</option>
                <option value="673">+673 Brunei</option>
                <option value="359">+359 Bulgaria</option>
                <option value="226">+226 Burkina Faso</option>
                <option value="257">+257 Burundi</option>
                <option value="855">+855 Cambodia</option>
                <option value="237">+237 Cameroon</option>
                <option value="1">+1 Canada</option>
                <option value="238">+238 Cape Verde</option>
                <option value="1345">+1345 Cayman Islands</option>
                <option value="236">+236 Central African Republic</option>
                <option value="235">+235 Chad</option>
                <option value="56">+56 Chile</option>
                <option value="86">+86 China</option>
                <option value="61">+61 Christmas Island</option>
                <option value="672">+672 Cocos (Keeling) Islands</option>
                <option value="57">+57 Colombia</option>
                <option value="269">+269 Comoros</option>
                <option value="242">+242 Congo - Brazzaville</option>
                <option value="242">+242 Congo - Kinshasa</option>
                <option value="682">+682 Cook Islands</option>
                <option value="506">+506 Costa Rica</option>
                <option value="225">+225 Côte d’Ivoire</option>
                <option value="385">+385 Croatia</option>
                <option value="53">+53 Cuba</option>
                <option value="599">+599 Curaçao</option>
                <option value="357">+357 Cyprus</option>
                <option value="420">+420 Czechia</option>
                <option value="45">+45 Denmark</option>
                <option value="253">+253 Djibouti</option>
                <option value="1767">+1767 Dominica</option>
                <option value="1809">+1809 Dominican Republic</option>
                <option value="593">+593 Ecuador</option>
                <option value="20">+20 Egypt</option>
                <option value="503">+503 El Salvador</option>
                <option value="240">+240 Equatorial Guinea</option>
                <option value="291">+291 Eritrea</option>
                <option value="372">+372 Estonia</option>
                <option value="251">+251 Ethiopia</option>
                <option value="500">+500 Falkland Islands (Islas Malvinas)</option>
                <option value="298">+298 Faroe Islands</option>
                <option value="679">+679 Fiji</option>
                <option value="358">+358 Finland</option>
                <option value="33">+33 France</option>
                <option value="594">+594 French Guiana</option>
                <option value="689">+689 French Polynesia</option>
                <option value="262">+262 French Southern Territories</option>
                <option value="241">+241 Gabon</option>
                <option value="220">+220 Gambia</option>
                <option value="995">+995 Georgia</option>
                <option value="49">+49 Germany</option>
                <option value="233">+233 Ghana</option>
                <option value="350">+350 Gibraltar</option>
                <option value="30">+30 Greece</option>
                <option value="299">+299 Greenland</option>
                <option value="1473">+1473 Grenada</option>
                <option value="590">+590 Guadeloupe</option>
                <option value="1671">+1671 Guam</option>
                <option value="502">+502 Guatemala</option>
                <option value="44">+44 Guernsey</option>
                <option value="224">+224 Guinea</option>
                <option value="245">+245 Guinea-Bissau</option>
                <option value="592">+592 Guyana</option>
                <option value="509">+509 Haiti</option>
                <option value="0">+0 Heard & McDonald Islands</option>
                <option value="39">+39 Vatican City</option>
                <option value="504">+504 Honduras</option>
                <option value="852">+852 Hong Kong</option>
                <option value="36">+36 Hungary</option>
                <option value="354">+354 Iceland</option>
                <option value="91">+91 India</option>
                <option value="62">+62 Indonesia</option>
                <option value="98">+98 Iran</option>
                <option value="964">+964 Iraq</option>
                <option value="353">+353 Ireland</option>
                <option value="44">+44 Isle of Man</option>
                <option value="972">+972 Israel</option>
                <option value="39">+39 Italy</option>
                <option value="1876">+1876 Jamaica</option>
                <option value="81">+81 Japan</option>
                <option value="44">+44 Jersey</option>
                <option value="962">+962 Jordan</option>
                <option value="7">+7 Kazakhstan</option>
                <option value="254">+254 Kenya</option>
                <option value="686">+686 Kiribati</option>
                <option value="850">+850 North Korea</option>
                <option value="82">+82 South Korea</option>
                <option value="381">+381 Kosovo</option>
                <option value="965">+965 Kuwait</option>
                <option value="996">+996 Kyrgyzstan</option>
                <option value="856">+856 Laos</option>
                <option value="371">+371 Latvia</option>
                <option value="961">+961 Lebanon</option>
                <option value="266">+266 Lesotho</option>
                <option value="231">+231 Liberia</option>
                <option value="218">+218 Libya</option>
                <option value="423">+423 Liechtenstein</option>
                <option value="370">+370 Lithuania</option>
                <option value="352">+352 Luxembourg</option>
                <option value="853">+853 Macao</option>
                <option value="389">+389 North Macedonia</option>
                <option value="261">+261 Madagascar</option>
                <option value="265">+265 Malawi</option>
                <option value="60">+60 Malaysia</option>
                <option value="960">+960 Maldives</option>
                <option value="223">+223 Mali</option>
                <option value="356">+356 Malta</option>
                <option value="692">+692 Marshall Islands</option>
                <option value="596">+596 Martinique</option>
                <option value="222">+222 Mauritania</option>
                <option value="230">+230 Mauritius</option>
                <option value="262">+262 Mayotte</option>
                <option value="52">+52 Mexico</option>
                <option value="691">+691 Micronesia</option>
                <option value="373">+373 Moldova</option>
                <option value="377">+377 Monaco</option>
                <option value="976">+976 Mongolia</option>
                <option value="382">+382 Montenegro</option>
                <option value="1664">+1664 Montserrat</option>
                <option value="212">+212 Morocco</option>
                <option value="258">+258 Mozambique</option>
                <option value="95">+95 Myanmar (Burma)</option>
                <option value="264">+264 Namibia</option>
                <option value="674">+674 Nauru</option>
                <option value="977">+977 Nepal</option>
                <option value="31">+31 Netherlands</option>
                <option value="599">+599 Curaçao</option>
                <option value="687">+687 New Caledonia</option>
                <option value="64">+64 New Zealand</option>
                <option value="505">+505 Nicaragua</option>
                <option value="227">+227 Niger</option>
                <option value="234">+234 Nigeria</option>
                <option value="683">+683 Niue</option>
                <option value="672">+672 Norfolk Island</option>
                <option value="1670">+1670 Northern Mariana Islands</option>
                <option value="47">+47 Norway</option>
                <option value="968">+968 Oman</option>
                <option value="92">+92 Pakistan</option>
                <option value="680">+680 Palau</option>
                <option value="970">+970 Palestine</option>
                <option value="507">+507 Panama</option>
                <option value="675">+675 Papua New Guinea</option>
                <option value="595">+595 Paraguay</option>
                <option value="51">+51 Peru</option>
                <option value="63">+63 Philippines</option>
                <option value="64">+64 Pitcairn Islands</option>
                <option value="48">+48 Poland</option>
                <option value="351">+351 Portugal</option>
                <option value="1787">+1787 Puerto Rico</option>
                <option value="974">+974 Qatar</option>
                <option value="262">+262 Réunion</option>
                <option value="40">+40 Romania</option>
                <option value="70">+70 Russia</option>
                <option value="250">+250 Rwanda</option>
                <option value="590">+590 St. Barthélemy</option>
                <option value="290">+290 St. Helena</option>
                <option value="1869">+1869 St. Kitts & Nevis</option>
                <option value="1758">+1758 St. Lucia</option>
                <option value="590">+590 St. Martin</option>
                <option value="508">+508 St. Pierre & Miquelon</option>
                <option value="1784">+1784 St. Vincent & Grenadines</option>
                <option value="684">+684 Samoa</option>
                <option value="378">+378 San Marino</option>
                <option value="239">+239 São Tomé & Príncipe</option>
                <option value="966">+966 Saudi Arabia</option>
                <option value="221">+221 Senegal</option>
                <option value="381">+381 Serbia</option>
                <option value="381">+381 Serbia</option>
                <option value="248">+248 Seychelles</option>
                <option value="232">+232 Sierra Leone</option>
                <option value="65">+65 Singapore</option>
                <option value="1">+1 Sint Maarten</option>
                <option value="421">+421 Slovakia</option>
                <option value="386">+386 Slovenia</option>
                <option value="677">+677 Solomon Islands</option>
                <option value="252">+252 Somalia</option>
                <option value="27">+27 South Africa</option>
                <option value="500">+500 South Georgia & South Sandwich Islands</option>
                <option value="211">+211 South Sudan</option>
                <option value="34">+34 Spain</option>
                <option value="94">+94 Sri Lanka</option>
                <option value="249">+249 Sudan</option>
                <option value="597">+597 Suriname</option>
                <option value="47">+47 Svalbard & Jan Mayen</option>
                <option value="268">+268 Eswatini</option>
                <option value="46">+46 Sweden</option>
                <option value="41">+41 Switzerland</option>
                <option value="963">+963 Syria</option>
                <option value="886">+886 Taiwan</option>
                <option value="992">+992 Tajikistan</option>
                <option value="255">+255 Tanzania</option>
                <option value="66">+66 Thailand</option>
                <option value="670">+670 Timor-Leste</option>
                <option value="228">+228 Togo</option>
                <option value="690">+690 Tokelau</option>
                <option value="676">+676 Tonga</option>
                <option value="1868">+1868 Trinidad & Tobago</option>
                <option value="216">+216 Tunisia</option>
                <option value="90">+90 Turkey</option>
                <option value="7370">+7370 Turkmenistan</option>
                <option value="1649">+1649 Turks & Caicos Islands</option>
                <option value="688">+688 Tuvalu</option>
                <option value="256">+256 Uganda</option>
                <option value="380">+380 Ukraine</option>
                <option value="971">+971 United Arab Emirates</option>
                <option value="44">+44 United Kingdom</option>
                <option value="1">+1 United States</option>
                <option value="1">+1 U.S. Outlying Islands</option>
                <option value="598">+598 Uruguay</option>
                <option value="998">+998 Uzbekistan</option>
                <option value="678">+678 Vanuatu</option>
                <option value="58">+58 Venezuela</option>
                <option value="84">+84 Vietnam</option>
                <option value="1284">+1284 British Virgin Islands</option>
                <option value="1340">+1340 U.S. Virgin Islands</option>
                <option value="681">+681 Wallis & Futuna</option>
                <option value="212">+212 Western Sahara</option>
                <option value="967">+967 Yemen</option>
                <option value="260">+260 Zambia</option>
                <option value="263">+263 Zimbabwe</option>
            </select>
            <input type="tel" placeholder="phone number" pattern="[0-9]+" name="phone" id="phone_field" class="border-r-2 border-t-2 border-b-2 border-slate-300 rounded-r w-3/4" required>
        </div>
        <div class="col-span-2">
            <label for="dob">date of birth:</label>
        <input type="date" name="dob" id="bod_input" class="border-2 border-slate-300 rounded" required>
        </div>

        <button type="submit" class="p-3 border-2 border-slate-300 duration-100 ease-in bg-slate-200 hover:bg-slate-300 dark:bg-slate-800 dark:hover:bg-slate-800 dark:hover:border-slate-800 rounded col-span-2">Register</button>
        <span class="text-gray-500 dark:text-gray-200 text-sm col-span-2">By registering you agree to our <a href="{% url 'privacy' %}" class="hover:underline text-sm">Privacy Policy</a> and Terms &amp; Conditions</span>
    </form>
    <script>
        var tick = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" color=\"rgb(34 197 94)\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" /></svg>";
        var cross = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" color="rgb(239 68 68)" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>';
        
        function checkpassword(input) {
            if (input.value.match(/[a-z]/) != null) { $('#lower').html(tick) } else { $('#lower').html(cross)}
            if (input.value.match(/[A-Z]/) != null) { $('#upper').html(tick) } else { $('#upper').html(cross)}
            if (input.value.match(/[0-9]/) != null) { $('#num').html(tick) } else { $('#num').html(cross)}
            if (input.value.length >= 8) { $('#charlen').html(tick) } else { $('#charlen').html(cross)}
        }

    </script>
{% endblock %}